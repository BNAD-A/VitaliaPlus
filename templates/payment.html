<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitalia+ - Paiement Sécurisé</title>
    <link rel="stylesheet" href="../css/payment.css">
</head>
<body>
    <div class="payment-container">
        <!-- Header -->
        <div class="payment-header">
            <div class="logo">
                <div class="logo-icon">
                    <img src="../img/logo.jpg" alt="Logo Vitalia+" class="logo-img">
                </div>
                <span class="logo-text">Vitalia+</span>
            </div>
            <div class="secure-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                Paiement 100% Sécurisé
            </div>
        </div>

        <div class="payment-content">
            <!-- Résumé de la commande -->
            <div class="order-summary">
                <h2>Récapitulatif</h2>
                
                <div class="plan-info" id="planInfo">
                    <div class="plan-header">
                        <h3 id="planName">Plan Premium</h3>
                        <span class="plan-badge" id="planBadge">Le plus populaire</span>
                    </div>
                    <p class="plan-description" id="planDescription">
                        Accès complet à tous les services + Bracelet connecté
                    </p>
                </div>

                <div class="price-details">
                    <div class="price-row">
                        <span>Abonnement trimestriel</span>
                        <span id="basePriceDisplay">499.00 DH</span>
                    </div>
                    <div class="price-row">
                        <span>Taxes (TVA 20%)</span>
                        <span id="taxDisplay">99.80 DH</span>
                    </div>
                    <div class="price-row discount" id="discountRow">
                        <span>Réduction première souscription</span>
                        <span id="discountDisplay">-50.00 DH</span>
                    </div>
                    <div class="price-row total">
                        <span>Total à payer</span>
                        <span id="totalPriceDisplay">548.80 DH</span>
                    </div>
                </div>

                <div class="features-included">
                    <h4>Inclus dans votre plan :</h4>
                    <ul id="featuresList">
                        <li>✓ Téléconsultations</li>
                        <li>✓ Livraison</li>
                        <li>✓ Analyses biologiques</li>
                    </ul>
                </div>

                <div class="security-badges">
                    <img src="https://via.placeholder.com/60x40/69816D/FFFFFF?text=SSL" alt="SSL">
                    <img src="https://via.placeholder.com/60x40/892D3F/FFFFFF?text=PCI" alt="PCI DSS">
                    <img src="https://via.placeholder.com/60x40/69816D/FFFFFF?text=3DS" alt="3D Secure">
                </div>
            </div>

            <!-- Formulaire de paiement -->
            <div class="payment-form-container">
                <h2>Informations de paiement</h2>

                <!-- Sélection du mode de paiement -->
                <div class="payment-methods">
                    <h3>Choisissez votre mode de paiement</h3>
                    
                    <div class="payment-method-options">
                        <label class="payment-method-card active" data-method="card">
                            <input type="radio" name="payment-method" value="card" checked>
                            <div class="method-content">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                    <line x1="1" y1="10" x2="23" y2="10"></line>
                                </svg>
                                <div>
                                    <strong>Carte Bancaire</strong>
                                    <p>Visa, Mastercard, CMI</p>
                                </div>
                            </div>
                            <div class="card-logos">
                                <img src="https://via.placeholder.com/40x25/003087/FFFFFF?text=VISA" alt="Visa">
                                <img src="https://via.placeholder.com/40x25/EB001B/FFFFFF?text=MC" alt="Mastercard">
                                <img src="https://via.placeholder.com/40x25/892D3F/FFFFFF?text=CMI" alt="CMI">
                            </div>
                        </label>

                        <label class="payment-method-card" data-method="mobile">
                            <input type="radio" name="payment-method" value="mobile">
                            <div class="method-content">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                                    <line x1="12" y1="18" x2="12.01" y2="18"></line>
                                </svg>
                                <div>
                                    <strong>Paiement Mobile</strong>
                                    <p>Orange Money, Cash Plus</p>
                                </div>
                            </div>
                        </label>

                        <label class="payment-method-card" data-method="virement">
                            <input type="radio" name="payment-method" value="virement">
                            <div class="method-content">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="1" x2="12" y2="23"></line>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                </svg>
                                <div>
                                    <strong>Virement Bancaire</strong>
                                    <p>Paiement différé</p>
                                </div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Formulaire carte bancaire -->
                <form id="cardPaymentForm" class="payment-form">
                    <div class="form-group">
                        <label for="cardNumber">Numéro de carte</label>
                        <div class="input-with-icon">
                            <input 
                                type="text" 
                                id="cardNumber" 
                                placeholder="1234 5678 9012 3456" 
                                maxlength="19"
                                required>
                            <div class="card-type-icon" id="cardTypeIcon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                    <line x1="1" y1="10" x2="23" y2="10"></line>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="cardName">Nom sur la carte</label>
                        <input 
                            type="text" 
                            id="cardName" 
                            placeholder="NOM PRENOM" 
                            required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="expiryDate">Date d'expiration</label>
                            <input 
                                type="text" 
                                id="expiryDate" 
                                placeholder="MM/AA" 
                                maxlength="5"
                                required>
                        </div>
                        <div class="form-group">
                            <label for="cvv">CVV</label>
                            <div class="input-with-icon">
                                <input 
                                    type="text" 
                                    id="cvv" 
                                    placeholder="123" 
                                    maxlength="3"
                                    required>
                                <span class="cvv-help" title="3 chiffres au dos de votre carte">?</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="saveCard">
                            <span>Enregistrer cette carte pour les paiements futurs</span>
                        </label>
                    </div>

                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="acceptTerms" required>
                            <span>J'accepte les <a href="#" class="link">conditions générales</a> et la <a href="#" class="link">politique de confidentialité</a></span>
                        </label>
                    </div>

                    <button type="submit" class="btn-pay" id="payButton">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        Payer <span id="payButtonAmount">548.80 DH</span>
                    </button>

                    <div class="payment-security-info">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 16v-4"></path>
                            <path d="M12 8h.01"></path>
                        </svg>
                        <span>Vos informations sont cryptées et sécurisées selon la norme PCI DSS</span>
                    </div>
                </form>

                <!-- Formulaire paiement mobile -->
                <form id="mobilePaymentForm" class="payment-form" style="display: none;">
                    <div class="form-group">
                        <label>Service de paiement</label>
                        <select id="mobileService" class="form-select">
                            <option value="orange">Orange Money</option>
                            <option value="cashplus">Cash Plus</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="mobileNumber">Numéro de téléphone</label>
                        <input 
                            type="tel" 
                            id="mobileNumber" 
                            placeholder="+212 6XX XXX XXX">
                    </div>

                    <button type="submit" class="btn-pay">
                        Payer <span id="payButtonAmountMobile">548.80 DH</span>
                    </button>
                </form>

                <!-- Virement bancaire -->
                <div id="virementInfo" class="payment-form" style="display: none;">
                    <div class="virement-instructions">
                        <h4>Coordonnées bancaires</h4>
                        <div class="bank-details">
                            <p><strong>Bénéficiaire :</strong> Vitalia+ SARL</p>
                            <p><strong>Banque :</strong> Attijariwafa Bank</p>
                            <p><strong>RIB :</strong> 007 780 0001234567890 12 34</p>
                            <p><strong>SWIFT :</strong> BCMAMAMC</p>
                            <p><strong>Référence :</strong> <span id="paymentReference">VIT-2024-XXXX</span></p>
                        </div>
                        <div class="virement-note">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 16v-4"></path>
                                <path d="M12 8h.01"></path>
                            </svg>
                            <p>Votre abonnement sera activé sous 24-48h après réception du virement. N'oubliez pas d'indiquer la référence de paiement.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="payment-footer">
            <button class="btn-back" onclick="window.history.back()">
                ← Retour
            </button>
            <div class="footer-links">
                <a href="#">Aide</a>
                <a href="#">Contact</a>
                <a href="#">Conditions</a>
            </div>
        </div>
    </div>

    <script src="../js/payment.js"></script>
</body>
</html>